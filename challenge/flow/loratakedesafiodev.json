{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"c5d20163-4e2d-4f8f-b9d7-fe868392047f","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"9193f494-f987-4cc3-86db-edc44cfa1a56","$connId":"con_3","$id":"d4771590-ec78-4729-aba4-fd6ee022815d","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[],"id":"onboarding","root":true,"$title":"Início","$position":{"top":"107px","left":"644px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"5f06120e-9ef2-4be0-bcf4-1a53a9bc9628","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"81357eb9-64e4-40b7-80dc-5adc9c357ce0","$connId":"con_8","$id":"2a9aa16a-f1d0-4640-a90a-a8764cebc3fa","conditions":[{"source":"context","comparison":"notEquals","values":["200"],"variable":"status"}],"$invalid":false},{"stateId":"error","conditions":[{"source":"input","comparison":"matches","values":[".*"]}],"$id":"697ae255-cfb3-4b68-8f48-fa857580ec54","$connId":"con_13","$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[],"id":"fallback","$title":"Exceções","$position":{"top":"310px","left":"643px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"welcome":{"$contentActions":[{"action":{"$id":"8d970dd5-bd9d-49f0-bf35-c2bcd18aaa4e","type":"SendMessage","settings":{"id":"b440b8af-ac52-4fb2-a780-967e922d4f15","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"b440b8af-ac52-4fb2-a780-967e922d4f15","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"cf9d8bae-cb77-4c5b-8daa-71ab31f91f44","type":"SendMessage","settings":{"id":"18cdf689-8f67-46f9-ad33-15d955abeed8","type":"text/plain","content":"Conforme solicitado no e-mail\nenviado, o resultado do desafio\nestá disponível abaixo...","metadata":{}},"$cardContent":{"document":{"id":"18cdf689-8f67-46f9-ad33-15d955abeed8","type":"text/plain","content":"Conforme solicitado no e-mail\nenviado, o resultado do desafio\nestá disponível abaixo..."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"c13e1742-16f8-418a-8b14-48a5a1c31e02","type":"SendMessage","settings":{"id":"d6460410-9c3b-4524-b593-2899ee0872ff","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"d6460410-9c3b-4524-b593-2899ee0872ff","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"fa43fa63-5daa-4198-b65f-1f085f6a547b","type":"SendRawMessage","settings":{"metadata":{},"type":"application/vnd.lime.collection+json","rawContent":"{{carrosel}}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"c0b9e6dd-1cf5-4213-b586-430e3a04e3a8","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"8254c1d2-d0cb-4991-82e6-54fd1a935537","type":"TrackEvent","$title":"Registro de eventos","$invalid":false,"settings":{"extras":{},"category":"Funcionalidade","action":"Desafio"},"conditions":[]},{"$id":"8df45d71-b140-4330-9e52-9ec49470bd4e","type":"ExecuteScript","$title":"Cria carrosel","$invalid":false,"settings":{"function":"run","source":"function run(response) {\n    response = JSON.parse(response) // convert response to an obj\n\n    const carousel = this.makeCarousel(response)\n\n    return JSON.stringify(carousel)// turn back to json and return it\n}\n\n// factory function return complete carousel\nfunction makeCarousel(data) {\n    const carousel = {\n        itemType: \"application/vnd.lime.document-select+json\",\n        items: null,\n    }\n    // added carousel header\n    carousel.items = this.makeCarouselHeader(data)\n\n    return carousel\n}\n\n// factory function return a complete carousel header\nfunction makeCarouselHeader(data) {\n    const items = []\n\n    data.data.results.forEach((repo) => {\n        items.push(this.carouselHeader(repo))\n    })\n\n    return items\n}\n\n// factory function return a header\nfunction carouselHeader(headerValues) {\n    const header = {\n        header: {\n            type: \"application/vnd.lime.media-link+json\",\n            value: {\n                title: headerValues.name,\n                text: headerValues.description,\n                type: \"image/jpeg\",\n                uri: headerValues.owner.avatar_url\n            }\n        },\n    }\n\n    return header\n}","inputVariables":["resposta"],"outputVariable":"carrosel","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"f0debaff-5a41-462d-badc-5573f39d5bd2","$invalid":false},"$tags":[{"background":"#7762E3","label":"script","id":"blip-tag-cd2e1c6f-21ef-7d08-115b-3c099967d421","canChangeBackground":false},{"background":"#61D36F","label":"evento","id":"blip-tag-20cb9180-2a6f-92a5-058e-331a2ff2cfb7","canChangeBackground":false}],"id":"welcome","$title":"Mostra carrosel - Conclui desafio","$position":{"top":"102px","left":"1198px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"error":{"$contentActions":[{"action":{"$id":"20fe18f7-1c17-425d-af39-e33d7c2994cb","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"9db987d8-1494-4e68-8672-22b9f429ad61","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"e385707d-ee0b-4c19-8e68-989da5c8f7b7","type":"text/plain","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[{"$id":"7e00ebf5-895f-45e5-a534-4a89780e90cd","type":"TrackEvent","$title":"Registro de eventos","$invalid":false,"settings":{"extras":{},"category":"Exceções","action":"Desconhecido","value":"{{input.content}}"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#61D36F","label":"evento","id":"blip-tag-20cb9180-2a6f-92a5-058e-331a2ff2cfb7"}],"id":"error","$title":"Erro padrão","$position":{"top":"310px","left":"405px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"f0debaff-5a41-462d-badc-5573f39d5bd2":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"89f30977-6ec0-4c8f-90e3-1ccf0d95b455","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"89207b16-0839-41bc-ba04-1a5139c8732e","type":"Redirect","$title":"Volta para bot principal","$invalid":false,"settings":{"context":{"type":"text/plain","value":"#menu-quick-reply"},"address":"Principal"},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"$tags":[{"background":"#FF961E","label":"redirecionamento","id":"blip-tag-390e6f95-f5a9-905e-fd24-2b0dcdb6ff5e","canChangeBackground":false}],"id":"f0debaff-5a41-462d-badc-5573f39d5bd2","root":false,"$title":"Retorna para bot principal","$position":{"top":"102px","left":"1541px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"9193f494-f987-4cc3-86db-edc44cfa1a56":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"168b209b-d11f-4ddb-bb51-00899f1b41f7","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"welcome","$connId":"con_18","$id":"272dc839-cda6-4028-b42b-1ba348f39523","conditions":[{"source":"context","comparison":"equals","values":["200"],"variable":"status"}],"$invalid":false}],"$enteringCustomActions":[{"$id":"2b1e0b24-97fb-4565-99c3-b7503954124b","type":"ProcessHttp","$title":"POST - API Gateway - pega repositorios","$invalid":false,"settings":{"headers":{},"method":"POST","body":"{\n\t\"user\": \"{{config.usuarioGithub}}\",\n\t\"language\": \"{{config.linguagem}}\",\n\t\"quant\": \"{{config.quantidade}}\"\n}","uri":"https://lora-take.herokuapp.com/repo/lastRepositories","responseStatusVariable":"status","responseBodyVariable":"resposta"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#FF4A1E","label":"api","id":"blip-tag-63374047-d46f-444d-c804-d14782898146","canChangeBackground":false}],"id":"9193f494-f987-4cc3-86db-edc44cfa1a56","root":false,"$title":"Faz requisição","$position":{"top":"113px","left":"931px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"81357eb9-64e4-40b7-80dc-5adc9c357ce0":{"$contentActions":[{"action":{"$id":"e54706bd-e362-4f95-8695-9e0651d664b7","type":"SendMessage","settings":{"id":"b51c2fa8-30fa-402a-96f6-77aff07785c0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"b51c2fa8-30fa-402a-96f6-77aff07785c0","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"694a08bf-02e2-4352-998d-0214c3816dad","type":"SendMessage","settings":{"id":"87480aea-a4d9-4b5c-a924-c4bcc41e3e1d","type":"text/plain","content":"Eu tentei fazer a busca pelos diretórios, mas não consegui encontrar...","metadata":{}},"$cardContent":{"document":{"id":"87480aea-a4d9-4b5c-a924-c4bcc41e3e1d","type":"text/plain","content":"Eu tentei fazer a busca pelos diretórios, mas não consegui encontrar..."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"074d30d5-0225-4e77-8d06-938110a5b578","type":"SendMessage","settings":{"id":"80187113-52c0-4e22-b939-0689c5d5679a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"80187113-52c0-4e22-b939-0689c5d5679a","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"cc266f82-38cf-4be2-9c46-7e4c9109a458","type":"SendMessage","settings":{"id":"5d8ef5a8-1e87-4e6e-9cd4-f44cf756f240","type":"application/vnd.lime.select+json","content":{"text":"Você quer tentar novamente?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"Não","previewText":"Não","value":null,"index":1,"type":null}]},"metadata":{}},"$cardContent":{"document":{"id":"5d8ef5a8-1e87-4e6e-9cd4-f44cf756f240","type":"application/vnd.lime.select+json","content":{"text":"Você quer tentar novamente?","scope":"immediate","options":[{"text":"Sim","previewText":"Sim","value":null,"index":0,"type":null},{"text":"Não","previewText":"Não","value":null,"index":1,"type":null}]}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":false,"$cardContent":{"document":{"id":"1cf58c8e-e90f-4238-a657-1285773a0cdd","type":"text/plain","textContent":"Entrada do usuário","content":"Entrada do usuário"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"9193f494-f987-4cc3-86db-edc44cfa1a56","$connId":"con_23","$id":"01e3b0ef-1d3e-4721-ad50-61f22b08ec87","conditions":[{"source":"input","comparison":"equals","values":["Sim"]}],"$invalid":false},{"stateId":"f0debaff-5a41-462d-badc-5573f39d5bd2","$connId":"con_28","$id":"be8134c2-7c45-4216-bcbf-8c6c7c9041a4","conditions":[{"source":"input","comparison":"contains","values":["nao","Não"]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"70302725-c06a-4b54-8f48-77087456c11f","type":"TrackEvent","$title":"Registro de eventos","$invalid":false,"settings":{"extras":{},"category":"Exceções","action":"Erro chamada API Gateway"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":["Sim","Não"],"$defaultOutput":{"stateId":"fallback","$invalid":false},"$tags":[{"background":"#61D36F","label":"evento","id":"blip-tag-20cb9180-2a6f-92a5-058e-331a2ff2cfb7"}],"id":"81357eb9-64e4-40b7-80dc-5adc9c357ce0","root":false,"$title":"Erros chamada da api","$position":{"top":"414px","left":"643px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}